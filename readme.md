
# kana-transcription

[![test](https://github.com/18degrees/kana-transcription/actions/workflows/tests.yml/badge.svg?event=push)](https://github.com/18degrees/kana-transcription/actions/workflows/tests.yml) ![NPM Version](https://img.shields.io/npm/v/kana-transcription) ![NPM License](https://img.shields.io/npm/l/kana-transcription)

Мини-библиотека, с помощью который вы сможете:
- Привести хирагану/катакану к русскому или английскому алфавиту
- Преобразовать слоги русского или английского алфавита к хирагане/катакане
- Перевести одну кану в другую

Для выполнения каждого пункта есть своя функция. Перед использованием посмотрите ниже некоторые ограничения и рекомендации к  применению, описанные для каждой функции.

Скажу сразу: иногда вывод будет не тем, что вы могли ожидать. Для повышения точности учитывайте рекомендации.

_Проблемы, которые стали причиной появления рекомендаций и ограничений, описаны в [отельном документе](docs/explanation.md)._

## Установка

`npm install kana-transcription`

## Примеры использования

```javascript
import { transcriptKana } from 'kana-transcription'

const kanaText = "わたし は うち へ いきます"

const transcriptedEN = transcriptKana(kanaText)
const transcriptedRU = transcriptKana(kanaText, 'ru')

//transcriptedEN = "watashi wa uchi e ikimasu"
//transcriptedRU = "ватаси ва ути э икимасу"


import { transformToKana } from 'kana-transcription'

const textEN = "skoshii"
const textRU = "скощии"

const transformedFromEN = transformToKana(textEN)
const transformedFromRU = transformToKana(textRU)

//transformedFromEN = "すこしい"
//transformedFromRU = "すこしい"
```

## Функции

Общая рекомендация для всех функций: если вы обрабатываете сразу нескольких слов, разделяйте их пробелом (в т. ч. частицы). Это позволит отследить положение слога в слове, от чего нередко зависит его произношение.

<details>

  <summary>transformToKana(text, fromLang, toKana)</summary>

  #### Что делает
  
  Приводит текст, написанный русскими или английскими слогами, к одной из японских азбук.
  
  #### Параметры
  
  - text - строка к преобразованию
  - fromLang - _необязательный_ - язык, с которого преобразовывать
    - en (по умолчанию)
    - ru
  - toKana - _необязательный_ - азбука, к которой привести
    - hiragana (по умолчанию)
    - katakana

  #### Рекомендации
  
  - Если после слоговой _н_ (_n_) в слове идёт гласная, сопровождайте _н_: 
    -  _(на русском)_ - _ъ_ - твёрдым знаком 
    -  _(на английском)_ - _'_ - апострофом
  
  - _(на русском)_ Если вы столкнулись с неслышной гласной, и согласная этого слога мягкая, используйте мягкий знак _ь_

  #### Ограничения
  
  При получении результата имейте в виду:
  
  - Долгота гласных отображается только их повторением
  - Неслышная い 
  	- _(с русского)_ выводится при употреблении мягкого знака или всегда мягких согласных
  	- _(с английского)_ не выводится
  - **Не используется** _символ ー_
  - Две одинаковые согласные подряд в одном слове **всегда** понимаются как двойной согласный
</details>

<details>

<summary>transcriptKana(text, toLang)</summary>

#### Что делает
Преобразует кану к русским (по системе Поливанова) или английским (по пересмотренной системе Хепбёрна) слогам.

_Обращаю внимание, что указанные системы не используются в полной мере. Например, длинные гласные обозначаются только их повторением._

#### Параметры

- text - кана к преобразованию
- toLang - _необязательный_ - язык, к которому привести
  - en (по умолчанию)
  - ru

#### Ограничения

- Пары гласных えい, おう переводятся побуквенно. Выходит [эи] и [оу] соответственно
</details>

<details>

<summary>reverseKana(text, toKana)</summary>

#### Что делает

Оборачивает одну кану в другую

#### Параметры

- text - кана для оборота
- toKana - _необязательный_ - кана, к которой привести
  - hiragana (по умолчанию)
  - katakana

#### Ограничения

- При приведении к катакане ***не используется знак ー***
</details>
